digraph "SEJ Component Overview" {
	fontname = "Helvetica";

	node [ shape = box, fontname = "Helvetica" ];
	edge [ fontname = "Helvetica" ];
	
	subgraph input {
					node [style = filled, color = lightblue ];
		xls			[ label = "Excel .xls File", shape=octagon ];
		xml			[ label = "Excel .xml File", shape=octagon ];
		ods			[ label = "OpenOffice .ods File", shape=octagon ];
	}
	
	subgraph cluster_runtime {
					label = "Application Compiling & Using Engine";
					style = filled;
					color = lightblue;

		{ 			node [ style = filled, fillcolor = lightpink ];
		comp 		[ label = "SEJ Bytecode Compiler" ];
		run			[ label = "SEJ Runtime" ];
		}
		
		{ 			node [ style = filled, fillcolor = lightgoldenrod ];
		bceng		[ label = "Engine Instance" ];
		bcfact		[ label = "Factory Instance" ];
		calc		[ label = "Computation Instance" ];
		}

		inp			[ label = "Input Instance" ];
		outp		[ label = "Output Interface", style = dotted ];
		fact		[ label = "Factory Interface", style = dotted ];
		
		{ 			node [ style = filled, fillcolor = yellowgreen ];
		ext			[ label = "CUP\nJExcelAPI\nJDOM\nASM" ];
		}
		
		{ rank = same; comp; ext; }
		{ rank = same; calc; inp; outp; }
	}

	{ 				edge [ label = "input to" ];
	xls -> comp;
	xml -> comp;
	ods -> comp;
	inp -> calc;
	}
	
	{ 				edge [ label = "builds a" ];
	comp -> bceng -> bcfact -> calc;
	}

	{ 				edge [ label = "implements", style=dotted ];
	calc -> outp;
	bcfact -> fact;
	}

	{ 				edge [ style = dotted, label = "uses" ];
	comp -> ext;
	calc -> run;
	}

}