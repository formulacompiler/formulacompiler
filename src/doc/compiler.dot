digraph "SEJ Component Overview" {
	fontname = "Helvetica";

	node [ shape = box, fontname = "Helvetica" ];
	edge [ fontname = "Helvetica" ];
	
	subgraph input {
					node [style = filled, color = lightblue ];
		xls			[ label = "Excel .xls File", shape=octagon ];
		xml			[ label = "Excel .xml File", shape=octagon ];
		ods			[ label = "OpenOffice .ods File", shape=octagon ];
	}
	
	subgraph cluster_sej {
					label = "SEJ Engine Compiler";
					style = filled;
					fillcolor = lightpink;
	
		subgraph cluster_load {
						label = "Spreadsheet Loader";
						color = red;
			load_excel	[ label = "Abstract Excel Loader" ];
			{ rank = same;
			load_xls	[ label = "Excel .xls Loader" ];
			load_xml	[ label = "Excel .xml Loader" ];
			load_ods	[ label = "OpenOffice .ods Loader" ];
			}
			{			node [style = filled, color=lightgoldenrod, shape=octagon ];
			sheet		[ label = "Spreadsheet Model", shape=octagon ];
			}
			{ node		[ style = filled, fillcolor = yellowgreen ];
			cup			[ label = "CUP Runtime" ];
			jxl			[ label = "JExcelAPI Library" ];
			jdom		[ label = "JDOM Library" ];
			}
			
		}
		
		subgraph cluster_model {
						label = "Model";
						color = red;
			sheetcomp	[ label = "Spreadsheet Compiler" ];
			modelopt	[ label = "Optimizer" ];
			{			node [style = filled, color=lightgoldenrod, shape=octagon ];
			model		[ label = "Computation Model", shape=octagon ];
			}
		}
		
		subgraph cluster_compile {
						label = "Compiler";
						color = red;
						
			bccomp		[ label = "SEJ Bytecode Compiler" ];
			srccomp		[ label = "SEJ Sourcecode Compiler" ];
			
			{ 			node [ style = filled, fillcolor = yellowgreen ];
			asm			[ label = "ASM Library" ];
			}
			{ rank = same; bccomp; asm; }
		}
		
		{			node [style = filled, color=lightgoldenrod, shape=octagon ];
		expr 		[ label = "Expression Trees" ];
		}
	}
	
	subgraph ser {
		
		{			node [style = filled, color=lightgoldenrod, shape=octagon ];
		bcser		[ label = "SEJ Serizalization (.ser)" ];
		srceng		[ label = "Java Source (.java)" ];
		}
		{ 			node [ style = filled, fillcolor = lightgoldenrod, ];
		bceng		[ label = "Engine Instance" ];
		}
	}

	{ edge [ label = "input to" ];
	xls -> load_xls;
	xml -> load_xml;
	ods -> load_ods;
	sheet -> sheetcomp;
	model -> bccomp;
	model -> srccomp;
	}
	
	{ edge [ label = "builds a" ];
	load_excel -> sheet;
	load_ods -> sheet;
	sheetcomp -> model;
	bccomp -> bceng;
	bccomp -> bcser;
	srccomp -> srceng;
	}

	modelopt -> model			[ label = "optimizes" ];

	{ edge [ label = "extends", style=dotted ];
	load_xls -> load_excel;
	load_xml -> load_excel;
	}
	
	{ edge [ style = dotted, label = "uses" ];
	load_excel -> cup;
	load_xls -> jxl;
	load_xml -> jdom;
	load_ods -> jdom;
	load_ods -> cup;
	bccomp -> asm;
	}
	
	{ edge [ style = dotted, label = "contains" ];
	sheet -> expr;
	model -> expr;
	}

}