<?xml version="1.0" encoding="UTF-8"?>

<!-- DO NOT MODIFY THIS FILE! -->
<!-- It is generated by scripts/gen-macker-rules.rb, a Ruby script, and the template in scripts/macker-rules-template.xml. -->

<macker>    
	<ruleset name="Dependencies">

		<pattern name="all-except-base">
			<include class="**"/>
			<exclude class="*"/>
			<exclude class="java.**"/>
		</pattern>

<% project.comps.reject{ |c| c.group.unchecked }.each do |c| %>
		<access-rule>
			<message><%= c.name %></message>
			<deny>
				<from>
<% c.pkgs.each do |p| %>
					<include class="<%= p %>.*"/>
<% end %>
				</from>
				<to>
					<include pattern="all-except-base"/>
<% (c.pkgs + c.imported_pkgs).uniq.each do |p| %>
					<exclude class="<%= p %>.*"/>
<% end %>
				</to>
			</deny>
		</access-rule>
<% end %>

								
		<!--========================================== Tests -->

        <access-rule>
            <message>System tests, tutorials, examples</message>
            <deny>
            	<from> 
            		<include class="sej.tests.**" />
            		<include class="sej.tutorials.**" />
            		<include class="sej.examples.**" />
            		<exclude class="sej.tests.reference.Abstract*" />
            		<exclude class="sej.tests.RepeatingSectionTestSuite*" />
            	</from>
                <to>
                	<include class="sej.internal.**" />
                </to>
            </deny>
        </access-rule>
        
        <pattern name="runtime-tests">
       		<include class="sej.tests.serialization.*Deserialization*" />
       		<include class="sej.tests.serialization.AbstractTestBase" />
       		<include class="sej.tests.serialization.Inputs" />
       		<include class="sej.tests.serialization.Outputs" />
       	</pattern>

        <access-rule>
            <message>Runtime-only tests</message>
            <deny>
            	<from> 
            		<include pattern="runtime-tests" />
            	</from>
                <to>
					<include class="sej.**" />
                	<exclude class="sej.runtime.*" />
                	<exclude pattern="runtime-tests" />
                </to>
            </deny>
        </access-rule>

	</ruleset>
</macker>